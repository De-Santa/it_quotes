var quoteGenerator=function(){"use strict";function e(){return Math.floor(Math.random()*n.length)}function t(){return n[e()]}var n=[{quote:"Те, кого беспокоит бесплатное ПО, обычно производят продукты, которые стоят и того меньше.",author:"-David Emery"},{quote:"Поставщики ПО постоянно пытаются сделать свои продукты более user-friendly. Пока что все попытки это сделать сводятся к написанию слов user-friendly на обложке документации.",author:"-Bill Gates"},{quote:"Программисты постоянно соревнуются со Вселенной: они пытаются создать всё более идиотоустойчивые программы, а Вселенная создаёт всё более совершенных идиотов. Пока что Вселенная побеждает",author:"-Rich Cook"},{quote:"Основная проблема программистов состоит в том, что их ошибки невозможно предугадать.",author:"-Seymour Cray"},{quote:"Два самых известных продукта, созданных в Университете Беркли — это UNIX и LSD. Это не может быть просто совпадением.",author:"-Jeremy S. Anderson"},{quote:"Для начала изучите теорию. Затем обретите собственный стиль программирования. И, наконец, забудьте об этой ерунде и просто пишите код.",author:"-George Carrette"},{quote:"Оценивать эффективность процесса программирования количеством написанных строк кода — то же самое, что оценивать процесс создания самолёта по его весу.",author:"-Bill Gates"},{quote:"Итерация свойственна человеку, рекурсия божественна.",author:"-L. Peter Deutsch"},{quote:"Существует только два вида языков программирования: те, которые всех раздражают, и те, которые никто не использует.",author:"-Bjarne Stroustrup"},{quote:"В мире нет такого языка программирования, на котором разработчики не смогли бы написать плохую программу.",author:"-Larry Flon"},{quote:"Создание языка программирования — это как прогулка по парку. По парку Юрского периода.",author:"-Larry Wall"},{quote:"Ходить по воде и разрабатывать программы, следуя спецификации, очень просто… если они заморожены.",author:"-Edward V Berard"},{quote:"Не волнуйтесь, если что-то не работает. Если бы всё работало, вас бы уволили.",author:"-Mosher’s Law of Software Engineering"},{quote:"Объектно-ориентированная версия «спагетти кода» — это, конечно, «лазанья код» (очень много слоев).",author:"-Roberto Waltman"},{quote:"Вы не можете создавать хорошие программы без хорошей команды, но большинство софтверных команд ведут себя как проблемная семья.",author:"-Jim McCarthy"},{quote:"Изучение программирования имеет такое же отношение к проектированию интерактивных систем, как обучение слепой печати к написанию стихов.",author:"-Ted Nelson"},{quote:"Иногда лучше остаться спать дома в понедельник, чем провести всю неделю отлаживая написанный в понедельник код.",author:"-Christopher Thompson"},{quote:"Многие из вас знакомы с достоинствами программиста. Их всего три, и разумеется это: лень, нетерпеливость и гордыня.",author:"-Larry Wall"},{quote:"Большинство хороших программистов делают свою работу не потому, что ожидают оплаты или признания, а потому что получают удовольствие от программирования.",author:"-Linus Torvalds"},{quote:"Всегда пишите код так, как будто сопровождать его будет психопат, который знает, где вы живёте.",author:"-Martin Golding"}];return{randomQuote:t}}(),blockGenerator=function(){"use strict";function e(){var e=Math.floor(Math.random()*r.length);return r[e]}function t(){var t=Math.floor(Math.random()*s.length),n=s[t];return n.hasOwnProperty("easy")?n.easy:n.hard+" "+e()}function n(){var e=quoteGenerator.randomQuote();return'<p class="m-textblock__quote">'+e.quote+'</p><p class="m-textblock__author"><svg class="m-textblock__del-block"><use xlink:href="#del-icon"></use></svg>'+e.author+"</p>"}function o(o){var c=document.createElement("div");switch(c.className="m-textblocks__list-item m-textblock ",o){case"easy":c.className+=" "+s[0].easy;break;case"hard":c.className+=" "+s[1].hard+" "+e();break;default:c.className+=t()}return c.innerHTML=n(),c}function c(e){var t;switch(e){case"easy":t=o("easy");break;case"hard":t=o("hard");break;default:t=o()}a.appendChild(t),blockEvents.init(t),blockCounter.count(t,"creation"),console.log("block created")}var a=document.querySelector(".m-textblocks__list"),r=["m-textblock--hard--green","m-textblock--hard--red"],s=[{easy:"m-textblock--easy"},{hard:"m-textblock--hard"}];return{renderBlock:c}}(),blockEvents=function(){"use strict";function e(e){var t=e.querySelector(".m-textblock__del-block"),n=function(t){t.preventDefault(),t.stopPropagation(),popups.closePopup(),e.classList.add("block-delete-anim"),setTimeout(function(){blockCounter.count(e,"deletion"),e.parentNode.removeChild(e),s.removeEventListener("click",n)},300)};t.addEventListener("click",function(t){t.stopPropagation(),e.classList.contains("m-textblock--hard")?(popups.openPopup("delBlock"),s.addEventListener("click",n),i.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),popups.closePopup()})):(e.classList.add("block-delete-anim"),setTimeout(function(){blockCounter.count(e,"deletion"),e.parentNode.removeChild(e)},300))})}function t(e){e.classList.contains("m-textblock--selected")?(e.classList.remove("m-textblock--selected"),blockCounter.count(e,"unselection")):setTimeout(function(){e.classList.add("m-textblock--selected"),blockCounter.count(e,"selection")},150)}function n(e){e.classList.contains("m-textblock--easy")&&e.addEventListener("click",function(n){n.stopPropagation(),setTimeout(function(){t(e)},150)})}function o(e){function n(){t(e)}function o(){e.classList.contains("m-textblock--hard--red")?(e.classList.remove("m-textblock--hard--red"),e.classList.add("m-textblock--hard--green"),blockCounter.count(e,"typeSwitchGreen"),e.classList.contains("m-textblock--selected")&&blockCounter.count(e,"typeSwitchGreenSelected")):(e.classList.add("m-textblock--hard--red"),e.classList.remove("m-textblock--hard--green"),blockCounter.count(e,"typeSwitchRed"),e.classList.contains("m-textblock--selected")&&blockCounter.count(e,"typeSwitchRedSelected"))}e.classList.contains("m-textblock--hard")&&e.addEventListener("click",function(e){e.stopPropagation(),u++,1===u?r=setTimeout(function(){u=0,n()},250):2===u&&(clearTimeout(r),u=0,o())})}function c(t){e(t),n(t),o(t)}function a(){document.ondblclick=function(){window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}}var r,s=document.querySelector(".m-btn--approve"),i=document.querySelector(".m-btn--cancel"),u=0;return{init:c,noTextSelectionOnDblClick:a}}(),popups=function(){"use strict";function e(){i.classList.contains("m-popup--active")||(i.classList.add("m-popup--active"),i.children[0].classList.add("fadeInDown"))}function t(){u.classList.contains("m-popup--active")||(u.classList.add("m-popup--active"),u.children[0].classList.add("fadeInDown"))}function n(){for(var e=0;e<s;e++)r[e].addEventListener("click",function(e){e.stopPropagation(),this.classList.contains("m-popup--active")&&(this.classList.remove("m-popup--active"),this.children[0].classList.remove("fadeInDown"))})}function o(){n()}function c(n){switch(n){case"addBlock":e();break;case"delBlock":t()}}function a(){for(var e=0;e<s;e++)r[e].classList.contains("m-popup--active")&&(r[e].classList.remove("m-popup--active"),r[e].children[0].classList.remove("fadeInDown"))}var r=document.getElementsByClassName("m-popup"),s=r.length,i=document.querySelector(".m-popup--add-confirm"),u=document.querySelector(".m-popup--del-confirm");return{init:o,openPopup:c,closePopup:a}}(),statsEvents=function(){"use strict";function e(){var e=!1;n.addEventListener("click",function(t){t.stopPropagation(),this.classList.contains("m-stats--active")?(this.classList.remove("m-stats--active"),e=!1):(this.classList.add("m-stats--active"),e=!0),document.addEventListener("click",function(){e===!0&&n.classList.remove("m-stats--active")})})}function t(){e()}var n=document.querySelector(".m-stats");return{init:t}}(),blockCounter=function(){"use strict";function e(){y=w+g,l.innerHTML=y}function t(t){switch(t){case"increase":w=C.count(w,"add-up");break;case"decrease":w=C.count(w,"add-down")}e(),p.innerHTML=w}function n(t){switch(t){case"increase":g=C.count(g,"add-up");break;case"decrease":g=C.count(g,"add-down")}e(),m.innerHTML=g}function o(e){switch(e){case"increase":q=C.count(q,"add-up");break;case"decrease":q=C.count(q,"add-down")}f.innerHTML=q}function c(e){switch(e){case"increase":x=C.count(x,"add-up");break;case"decrease":x=C.count(x,"add-down")}k.innerHTML=x}function a(){E=M+P,h.innerHTML=E}function r(e){switch(e){case"increase":M=C.count(M,"add-up");break;case"decrease":M=C.count(M,"add-down")}b.innerHTML=M,a()}function s(e){switch(e){case"increase":P=C.count(P,"add-up");break;case"decrease":P=C.count(P,"add-down")}v.innerHTML=P,a()}function i(e){switch(e){case"increase":T=C.count(T,"add-up");break;case"decrease":T=C.count(T,"add-down")}L.innerHTML=T}function u(e){switch(e){case"increase":G=C.count(G,"add-up");break;case"decrease":G=C.count(G,"add-down")}S.innerHTML=G}function d(e,a){var d=e.classList.contains("m-textblock--easy"),l=e.classList.contains("m-textblock--hard--green");switch(a){case"creation":switch(d){case!0:t("increase");break;default:switch(n("increase"),l){case!0:o("increase");break;default:c("increase")}}break;case"deletion":switch(d){case!0:t("decrease");break;default:switch(n("decrease"),l){case!0:o("decrease");break;default:c("decrease")}}break;case"selection":switch(d){case!0:r("increase");break;default:switch(s("increase"),l){case!0:i("increase");break;default:u("increase")}}break;case"unselection":switch(d){case!0:r("decrease");break;default:switch(s("decrease"),l){case!0:i("decrease");break;default:u("decrease")}}break;case"typeSwitchRed":o("decrease"),c("increase");break;case"typeSwitchGreen":c("decrease"),o("increase");break;case"typeSwitchRedSelected":i("decrease"),u("increase");break;case"typeSwitchGreenSelected":u("decrease"),i("increase")}}var l=document.querySelector('[data-counter = "allBlocks"]'),p=document.querySelector('[data-counter = "easyBlocks"]'),m=document.querySelector('[data-counter = "hardBlocks"]'),f=document.querySelector('[data-counter = "greenState"]'),k=document.querySelector('[data-counter = "redState"]'),h=document.querySelector('[data-counter = "selectedState"]'),b=document.querySelector('[data-counter = "selectedEasyState"]'),v=document.querySelector('[data-counter = "selectedHardState"]'),L=document.querySelector('[data-counter = "selectedGreenState"]'),S=document.querySelector('[data-counter = "selectedRedState"]'),y=0,w=0,g=0,q=0,x=0,E=0,M=0,P=0,T=0,G=0,C=function(){function e(e,t){switch(t){case"add-up":return++e;case"add-down":return--e}}return{count:e}}();return{count:d}}(),addBlock=function(){"use strict";function e(){n.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),popups.openPopup("addBlock")}),o.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),popups.closePopup(),blockGenerator.renderBlock("easy")}),c.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),popups.closePopup(),blockGenerator.renderBlock("hard")}),a.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),blockGenerator.renderBlock(),popups.closePopup()}),r.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();for(var t=0;t<1e3;t++)blockGenerator.renderBlock("");popups.closePopup()}),s.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();for(var t=0;t<1e4;t++)blockGenerator.renderBlock("");popups.closePopup()})}function t(){e()}var n=document.querySelector(".m-btn--add"),o=document.querySelector(".m-btn--easy"),c=document.querySelector(".m-btn--hard"),a=document.querySelector(".m-btn--random"),r=document.querySelector(".m-btn--heavy"),s=document.querySelector(".m-btn--extra-heavy");return{init:t}}(),svgSprite=function(){function e(){!function(e,t){"use strict";if(!t.createElementNS||!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)return!0;var n,o,c="localStorage"in e&&null!==e.localStorage,a=function(){t.body.insertAdjacentHTML("afterbegin",o)},r=function(){t.body?a():t.addEventListener("DOMContentLoaded",a)};if(c&&1==localStorage.getItem("inlineSVGrev")&&(o=localStorage.getItem("inlineSVGdata")))return r(),!0;try{n=new XMLHttpRequest,n.open("GET","icons/svg-icons-sprite.html",!0),n.onload=function(){n.status>=200&&n.status<400&&(o=n.responseText,r(),c&&(localStorage.setItem("inlineSVGdata",o),localStorage.setItem("inlineSVGrev",1)))},n.send()}catch(e){}}(window,document)}function t(){e()}return{init:t}}();document.addEventListener("DOMContentLoaded",function(e){!function(){for(var e=13+Math.floor(13*Math.random()),t=0;t<e;t++)blockGenerator.renderBlock("");statsEvents.init(),blockEvents.noTextSelectionOnDblClick(),popups.init(),addBlock.init(),svgSprite.init()}()});